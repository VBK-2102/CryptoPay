"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/crypto/live-prices/route";
exports.ids = ["app/api/crypto/live-prices/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@14.2.16_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcrypto%2Flive-prices%2Froute&page=%2Fapi%2Fcrypto%2Flive-prices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcrypto%2Flive-prices%2Froute.ts&appDir=C%3A%5CUsers%5CAdmin%5CDesktop%5CZerokost%5Ccrypto-payment-gateway%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAdmin%5CDesktop%5CZerokost%5Ccrypto-payment-gateway&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.2.16_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcrypto%2Flive-prices%2Froute&page=%2Fapi%2Fcrypto%2Flive-prices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcrypto%2Flive-prices%2Froute.ts&appDir=C%3A%5CUsers%5CAdmin%5CDesktop%5CZerokost%5Ccrypto-payment-gateway%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAdmin%5CDesktop%5CZerokost%5Ccrypto-payment-gateway&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@14.2.16_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/.pnpm/next@14.2.16_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@14.2.16_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Admin_Desktop_Zerokost_crypto_payment_gateway_app_api_crypto_live_prices_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/crypto/live-prices/route.ts */ \"(rsc)/./app/api/crypto/live-prices/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/crypto/live-prices/route\",\n        pathname: \"/api/crypto/live-prices\",\n        filename: \"route\",\n        bundlePath: \"app/api/crypto/live-prices/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Zerokost\\\\crypto-payment-gateway\\\\app\\\\api\\\\crypto\\\\live-prices\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Admin_Desktop_Zerokost_crypto_payment_gateway_app_api_crypto_live_prices_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/crypto/live-prices/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNC4yLjE2X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGYXBpJTJGY3J5cHRvJTJGbGl2ZS1wcmljZXMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmNyeXB0byUyRmxpdmUtcHJpY2VzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY3J5cHRvJTJGbGl2ZS1wcmljZXMlMkZyb3V0ZS50cyZhcHBEaXI9QyUzQSU1Q1VzZXJzJTVDQWRtaW4lNUNEZXNrdG9wJTVDWmVyb2tvc3QlNUNjcnlwdG8tcGF5bWVudC1nYXRld2F5JTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNBZG1pbiU1Q0Rlc2t0b3AlNUNaZXJva29zdCU1Q2NyeXB0by1wYXltZW50LWdhdGV3YXkmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ29EO0FBQ2pJO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8/ZDI1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxBZG1pblxcXFxEZXNrdG9wXFxcXFplcm9rb3N0XFxcXGNyeXB0by1wYXltZW50LWdhdGV3YXlcXFxcYXBwXFxcXGFwaVxcXFxjcnlwdG9cXFxcbGl2ZS1wcmljZXNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NyeXB0by9saXZlLXByaWNlcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NyeXB0by9saXZlLXByaWNlc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvY3J5cHRvL2xpdmUtcHJpY2VzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcQWRtaW5cXFxcRGVza3RvcFxcXFxaZXJva29zdFxcXFxjcnlwdG8tcGF5bWVudC1nYXRld2F5XFxcXGFwcFxcXFxhcGlcXFxcY3J5cHRvXFxcXGxpdmUtcHJpY2VzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9jcnlwdG8vbGl2ZS1wcmljZXMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@14.2.16_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcrypto%2Flive-prices%2Froute&page=%2Fapi%2Fcrypto%2Flive-prices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcrypto%2Flive-prices%2Froute.ts&appDir=C%3A%5CUsers%5CAdmin%5CDesktop%5CZerokost%5Ccrypto-payment-gateway%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAdmin%5CDesktop%5CZerokost%5Ccrypto-payment-gateway&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/crypto/live-prices/route.ts":
/*!*********************************************!*\
  !*** ./app/api/crypto/live-prices/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@14.2.16_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_binance_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/binance-api */ \"(rsc)/./lib/binance-api.ts\");\n\n\nasync function GET() {\n    try {\n        // Get live prices from Binance or alternative sources (with caching)\n        const prices = await _lib_binance_api__WEBPACK_IMPORTED_MODULE_1__.binanceAPI.getCryptoPrices();\n        // Try to get 24hr stats if using Binance (with proper error handling)\n        let stats = [];\n        const usingBinance = prices.some((p)=>p.source === \"binance\");\n        if (usingBinance) {\n            try {\n                stats = await _lib_binance_api__WEBPACK_IMPORTED_MODULE_1__.binanceAPI.get24hrStats();\n                console.log(\"Successfully fetched 24hr stats:\", stats.length, \"items\");\n            } catch (error) {\n                console.log(\"Could not fetch 24hr stats, using price data only:\", error);\n                stats = [];\n            }\n        }\n        // Merge price data with 24hr statistics if available\n        const enrichedPrices = prices.map((price)=>{\n            const stat = stats.find((s)=>s && s.symbol === price.symbol);\n            return {\n                ...price,\n                change_24h: stat?.priceChangePercent || price.change_24h || 0,\n                volume_24h: stat?.volume || 0,\n                price_change: stat?.priceChange || 0\n            };\n        });\n        const dataSource = prices[0]?.source || \"unknown\";\n        const cacheStatus = _lib_binance_api__WEBPACK_IMPORTED_MODULE_1__.binanceAPI.getCacheStatus();\n        let message = \"\";\n        switch(dataSource){\n            case \"binance\":\n                message = stats.length > 0 ? \"Live data from Binance API with 24hr stats\" : \"Live data from Binance API (24hr stats unavailable)\";\n                break;\n            case \"coingecko\":\n                message = cacheStatus.cached && cacheStatus.age > 60000 ? \"CoinGecko data (rate limited, using cache)\" : \"Live data from CoinGecko API\";\n                break;\n            case \"cached\":\n                message = `Cached data from ${cacheStatus.source} (APIs temporarily unavailable)`;\n                break;\n            case \"fallback\":\n                message = \"Using fallback data (all APIs unavailable)\";\n                break;\n            default:\n                message = \"Data source unknown\";\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: enrichedPrices,\n            source: dataSource,\n            message,\n            timestamp: new Date().toISOString(),\n            statsAvailable: stats.length > 0,\n            cached: cacheStatus.cached,\n            cacheAge: cacheStatus.age\n        });\n    } catch (error) {\n        console.error(\"Error fetching live crypto prices:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Failed to fetch live prices\",\n            details: error instanceof Error ? error.message : \"Unknown error\",\n            source: \"error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2NyeXB0by9saXZlLXByaWNlcy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEM7QUFDSTtBQUV2QyxlQUFlRTtJQUNwQixJQUFJO1FBQ0YscUVBQXFFO1FBQ3JFLE1BQU1DLFNBQVMsTUFBTUYsd0RBQVVBLENBQUNHLGVBQWU7UUFFL0Msc0VBQXNFO1FBQ3RFLElBQUlDLFFBQWUsRUFBRTtRQUNyQixNQUFNQyxlQUFlSCxPQUFPSSxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLE1BQU0sS0FBSztRQUVuRCxJQUFJSCxjQUFjO1lBQ2hCLElBQUk7Z0JBQ0ZELFFBQVEsTUFBTUosd0RBQVVBLENBQUNTLFlBQVk7Z0JBQ3JDQyxRQUFRQyxHQUFHLENBQUMsb0NBQW9DUCxNQUFNUSxNQUFNLEVBQUU7WUFDaEUsRUFBRSxPQUFPQyxPQUFPO2dCQUNkSCxRQUFRQyxHQUFHLENBQUMsc0RBQXNERTtnQkFDbEVULFFBQVEsRUFBRTtZQUNaO1FBQ0Y7UUFFQSxxREFBcUQ7UUFDckQsTUFBTVUsaUJBQWlCWixPQUFPYSxHQUFHLENBQUNDLENBQUFBO1lBQ2hDLE1BQU1DLE9BQU9iLE1BQU1jLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsS0FBS0EsRUFBRUMsTUFBTSxLQUFLSixNQUFNSSxNQUFNO1lBQzNELE9BQU87Z0JBQ0wsR0FBR0osS0FBSztnQkFDUkssWUFBWUosTUFBTUssc0JBQXNCTixNQUFNSyxVQUFVLElBQUk7Z0JBQzVERSxZQUFZTixNQUFNTyxVQUFVO2dCQUM1QkMsY0FBY1IsTUFBTVMsZUFBZTtZQUNyQztRQUNGO1FBRUEsTUFBTUMsYUFBYXpCLE1BQU0sQ0FBQyxFQUFFLEVBQUVNLFVBQVU7UUFDeEMsTUFBTW9CLGNBQWM1Qix3REFBVUEsQ0FBQzZCLGNBQWM7UUFFN0MsSUFBSUMsVUFBVTtRQUVkLE9BQVFIO1lBQ04sS0FBSztnQkFDSEcsVUFBVTFCLE1BQU1RLE1BQU0sR0FBRyxJQUNyQiwrQ0FDQTtnQkFDSjtZQUNGLEtBQUs7Z0JBQ0hrQixVQUFVRixZQUFZRyxNQUFNLElBQUlILFlBQVlJLEdBQUcsR0FBRyxRQUM5QywrQ0FDQTtnQkFDSjtZQUNGLEtBQUs7Z0JBQ0hGLFVBQVUsQ0FBQyxpQkFBaUIsRUFBRUYsWUFBWXBCLE1BQU0sQ0FBQywrQkFBK0IsQ0FBQztnQkFDakY7WUFDRixLQUFLO2dCQUNIc0IsVUFBVTtnQkFDVjtZQUNGO2dCQUNFQSxVQUFVO1FBQ2Q7UUFFQSxPQUFPL0IscURBQVlBLENBQUNrQyxJQUFJLENBQUM7WUFDdkJDLFNBQVM7WUFDVEMsTUFBTXJCO1lBQ05OLFFBQVFtQjtZQUNSRztZQUNBTSxXQUFXLElBQUlDLE9BQU9DLFdBQVc7WUFDakNDLGdCQUFnQm5DLE1BQU1RLE1BQU0sR0FBRztZQUMvQm1CLFFBQVFILFlBQVlHLE1BQU07WUFDMUJTLFVBQVVaLFlBQVlJLEdBQUc7UUFDM0I7SUFDRixFQUFFLE9BQU9uQixPQUFPO1FBQ2RILFFBQVFHLEtBQUssQ0FBQyxzQ0FBc0NBO1FBQ3BELE9BQU9kLHFEQUFZQSxDQUFDa0MsSUFBSSxDQUN0QjtZQUNFQyxTQUFTO1lBQ1RyQixPQUFPO1lBQ1A0QixTQUFTNUIsaUJBQWlCNkIsUUFBUTdCLE1BQU1pQixPQUFPLEdBQUc7WUFDbER0QixRQUFRO1FBQ1YsR0FDQTtZQUFFbUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vYXBwL2FwaS9jcnlwdG8vbGl2ZS1wcmljZXMvcm91dGUudHM/OGIwOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIlxuaW1wb3J0IHsgYmluYW5jZUFQSSB9IGZyb20gXCJAL2xpYi9iaW5hbmNlLWFwaVwiXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IGxpdmUgcHJpY2VzIGZyb20gQmluYW5jZSBvciBhbHRlcm5hdGl2ZSBzb3VyY2VzICh3aXRoIGNhY2hpbmcpXG4gICAgY29uc3QgcHJpY2VzID0gYXdhaXQgYmluYW5jZUFQSS5nZXRDcnlwdG9QcmljZXMoKVxuICAgIFxuICAgIC8vIFRyeSB0byBnZXQgMjRociBzdGF0cyBpZiB1c2luZyBCaW5hbmNlICh3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZylcbiAgICBsZXQgc3RhdHM6IGFueVtdID0gW11cbiAgICBjb25zdCB1c2luZ0JpbmFuY2UgPSBwcmljZXMuc29tZShwID0+IHAuc291cmNlID09PSAnYmluYW5jZScpXG4gICAgXG4gICAgaWYgKHVzaW5nQmluYW5jZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RhdHMgPSBhd2FpdCBiaW5hbmNlQVBJLmdldDI0aHJTdGF0cygpXG4gICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgZmV0Y2hlZCAyNGhyIHN0YXRzOicsIHN0YXRzLmxlbmd0aCwgJ2l0ZW1zJylcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDb3VsZCBub3QgZmV0Y2ggMjRociBzdGF0cywgdXNpbmcgcHJpY2UgZGF0YSBvbmx5OicsIGVycm9yKVxuICAgICAgICBzdGF0cyA9IFtdXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWVyZ2UgcHJpY2UgZGF0YSB3aXRoIDI0aHIgc3RhdGlzdGljcyBpZiBhdmFpbGFibGVcbiAgICBjb25zdCBlbnJpY2hlZFByaWNlcyA9IHByaWNlcy5tYXAocHJpY2UgPT4ge1xuICAgICAgY29uc3Qgc3RhdCA9IHN0YXRzLmZpbmQocyA9PiBzICYmIHMuc3ltYm9sID09PSBwcmljZS5zeW1ib2wpXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmljZSxcbiAgICAgICAgY2hhbmdlXzI0aDogc3RhdD8ucHJpY2VDaGFuZ2VQZXJjZW50IHx8IHByaWNlLmNoYW5nZV8yNGggfHwgMCxcbiAgICAgICAgdm9sdW1lXzI0aDogc3RhdD8udm9sdW1lIHx8IDAsXG4gICAgICAgIHByaWNlX2NoYW5nZTogc3RhdD8ucHJpY2VDaGFuZ2UgfHwgMFxuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb25zdCBkYXRhU291cmNlID0gcHJpY2VzWzBdPy5zb3VyY2UgfHwgJ3Vua25vd24nXG4gICAgY29uc3QgY2FjaGVTdGF0dXMgPSBiaW5hbmNlQVBJLmdldENhY2hlU3RhdHVzKClcbiAgICBcbiAgICBsZXQgbWVzc2FnZSA9ICcnXG4gICAgXG4gICAgc3dpdGNoIChkYXRhU291cmNlKSB7XG4gICAgICBjYXNlICdiaW5hbmNlJzpcbiAgICAgICAgbWVzc2FnZSA9IHN0YXRzLmxlbmd0aCA+IDAgXG4gICAgICAgICAgPyAnTGl2ZSBkYXRhIGZyb20gQmluYW5jZSBBUEkgd2l0aCAyNGhyIHN0YXRzJ1xuICAgICAgICAgIDogJ0xpdmUgZGF0YSBmcm9tIEJpbmFuY2UgQVBJICgyNGhyIHN0YXRzIHVuYXZhaWxhYmxlKSdcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2NvaW5nZWNrbyc6XG4gICAgICAgIG1lc3NhZ2UgPSBjYWNoZVN0YXR1cy5jYWNoZWQgJiYgY2FjaGVTdGF0dXMuYWdlID4gNjAwMDBcbiAgICAgICAgICA/ICdDb2luR2Vja28gZGF0YSAocmF0ZSBsaW1pdGVkLCB1c2luZyBjYWNoZSknXG4gICAgICAgICAgOiAnTGl2ZSBkYXRhIGZyb20gQ29pbkdlY2tvIEFQSSdcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2NhY2hlZCc6XG4gICAgICAgIG1lc3NhZ2UgPSBgQ2FjaGVkIGRhdGEgZnJvbSAke2NhY2hlU3RhdHVzLnNvdXJjZX0gKEFQSXMgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUpYFxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZmFsbGJhY2snOlxuICAgICAgICBtZXNzYWdlID0gJ1VzaW5nIGZhbGxiYWNrIGRhdGEgKGFsbCBBUElzIHVuYXZhaWxhYmxlKSdcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIG1lc3NhZ2UgPSAnRGF0YSBzb3VyY2UgdW5rbm93bidcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiBlbnJpY2hlZFByaWNlcyxcbiAgICAgIHNvdXJjZTogZGF0YVNvdXJjZSxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHN0YXRzQXZhaWxhYmxlOiBzdGF0cy5sZW5ndGggPiAwLFxuICAgICAgY2FjaGVkOiBjYWNoZVN0YXR1cy5jYWNoZWQsXG4gICAgICBjYWNoZUFnZTogY2FjaGVTdGF0dXMuYWdlXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgbGl2ZSBjcnlwdG8gcHJpY2VzOlwiLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggbGl2ZSBwcmljZXNcIixcbiAgICAgICAgZGV0YWlsczogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcbiAgICAgICAgc291cmNlOiAnZXJyb3InXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiYmluYW5jZUFQSSIsIkdFVCIsInByaWNlcyIsImdldENyeXB0b1ByaWNlcyIsInN0YXRzIiwidXNpbmdCaW5hbmNlIiwic29tZSIsInAiLCJzb3VyY2UiLCJnZXQyNGhyU3RhdHMiLCJjb25zb2xlIiwibG9nIiwibGVuZ3RoIiwiZXJyb3IiLCJlbnJpY2hlZFByaWNlcyIsIm1hcCIsInByaWNlIiwic3RhdCIsImZpbmQiLCJzIiwic3ltYm9sIiwiY2hhbmdlXzI0aCIsInByaWNlQ2hhbmdlUGVyY2VudCIsInZvbHVtZV8yNGgiLCJ2b2x1bWUiLCJwcmljZV9jaGFuZ2UiLCJwcmljZUNoYW5nZSIsImRhdGFTb3VyY2UiLCJjYWNoZVN0YXR1cyIsImdldENhY2hlU3RhdHVzIiwibWVzc2FnZSIsImNhY2hlZCIsImFnZSIsImpzb24iLCJzdWNjZXNzIiwiZGF0YSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInN0YXRzQXZhaWxhYmxlIiwiY2FjaGVBZ2UiLCJkZXRhaWxzIiwiRXJyb3IiLCJzdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/crypto/live-prices/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/binance-api.ts":
/*!****************************!*\
  !*** ./lib/binance-api.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BinanceAPI: () => (/* binding */ BinanceAPI),\n/* harmony export */   binanceAPI: () => (/* binding */ binanceAPI)\n/* harmony export */ });\nclass BinanceAPI {\n    constructor(){\n        this.priceCache = null;\n        this.cacheTimeout = 60000 // 1 minute cache\n        ;\n        this.lastRequestTime = 0;\n        this.minRequestInterval = 2000 // 2 seconds between requests\n        ;\n        this.apiKey = \"a8LF1kb0SfS8pjAmYxyyTbNtyWgAWMYRjXhdiPAb8tLqQQ1BZWMAfUiD9OcK5oGX\";\n        this.secretKey = \"HVMV01xHVhFChX5rudNft4nAEMhYnrnC5Qu2FrXT1wC3EaUBAsgofLTMmwcWnuONi\";\n        this.baseURL = \"https://api.binance.com\";\n    }\n    async createSignature(queryString) {\n        const encoder = new TextEncoder();\n        const keyData = encoder.encode(this.secretKey);\n        const messageData = encoder.encode(queryString);\n        const cryptoKey = await crypto.subtle.importKey(\"raw\", keyData, {\n            name: \"HMAC\",\n            hash: \"SHA-256\"\n        }, false, [\n            \"sign\"\n        ]);\n        const signature = await crypto.subtle.sign(\"HMAC\", cryptoKey, messageData);\n        return Array.from(new Uint8Array(signature)).map((b)=>b.toString(16).padStart(2, \"0\")).join(\"\");\n    }\n    getHeaders(includeAuth = false) {\n        const headers = {\n            \"Content-Type\": \"application/json\"\n        };\n        if (includeAuth) {\n            headers[\"X-MBX-APIKEY\"] = this.apiKey;\n        }\n        return headers;\n    }\n    // Rate limiting helper\n    async waitForRateLimit() {\n        const now = Date.now();\n        const timeSinceLastRequest = now - this.lastRequestTime;\n        if (timeSinceLastRequest < this.minRequestInterval) {\n            const waitTime = this.minRequestInterval - timeSinceLastRequest;\n            console.log(`Rate limiting: waiting ${waitTime}ms`);\n            await new Promise((resolve)=>setTimeout(resolve, waitTime));\n        }\n        this.lastRequestTime = Date.now();\n    }\n    // Check if cached data is still valid\n    isCacheValid() {\n        if (!this.priceCache) return false;\n        const now = Date.now();\n        return now - this.priceCache.timestamp < this.cacheTimeout;\n    }\n    // Get live crypto prices with caching and rate limiting\n    async getCryptoPrices() {\n        // Return cached data if still valid\n        if (this.isCacheValid()) {\n            console.log(\"Returning cached price data\");\n            return this.priceCache.data;\n        }\n        try {\n            // First try Binance\n            const symbols = [\n                \"BTCUSDT\",\n                \"ETHUSDT\",\n                \"USDTUSDT\"\n            ];\n            const response = await fetch(`${this.baseURL}/api/v3/ticker/price`, {\n                headers: this.getHeaders()\n            });\n            if (response.status === 451) {\n                console.log(\"Binance API restricted in this region, using alternative source\");\n                return await this.getAlternativePrices();\n            }\n            if (!response.ok) {\n                throw new Error(`Binance API error: ${response.status}`);\n            }\n            const allPrices = await response.json();\n            // Filter for our supported cryptos and convert to our format\n            const cryptoPrices = symbols.map((symbol)=>{\n                const price = allPrices.find((p)=>p.symbol === symbol);\n                const baseAsset = symbol.replace(\"USDT\", \"\");\n                if (!price) return null;\n                const usdPrice = parseFloat(price.price);\n                const inrPrice = usdPrice * 83.5 // USD to INR conversion\n                ;\n                return {\n                    symbol: baseAsset,\n                    name: this.getCryptoName(baseAsset),\n                    price_usd: usdPrice,\n                    price_inr: inrPrice,\n                    change_24h: 0,\n                    icon: this.getCryptoIcon(baseAsset),\n                    lastUpdated: new Date().toISOString(),\n                    source: \"binance\"\n                };\n            }).filter(Boolean);\n            // Cache the result\n            this.priceCache = {\n                data: cryptoPrices,\n                timestamp: Date.now(),\n                source: \"binance\"\n            };\n            return cryptoPrices;\n        } catch (error) {\n            console.error(\"Error fetching Binance prices:\", error);\n            // Try alternative API\n            return await this.getAlternativePrices();\n        }\n    }\n    // Alternative price source with rate limiting and better error handling\n    async getAlternativePrices() {\n        try {\n            // Apply rate limiting\n            await this.waitForRateLimit();\n            const coinIds = \"bitcoin,ethereum,tether\";\n            const response = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${coinIds}&vs_currencies=usd,inr&include_24hr_change=true`, {\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"User-Agent\": \"CryptoPaymentGateway/1.0\"\n                }\n            });\n            if (response.status === 429) {\n                console.log(\"CoinGecko API rate limited, using cached or fallback data\");\n                // If we have cached data, return it even if expired\n                if (this.priceCache) {\n                    console.log(\"Returning expired cached data due to rate limit\");\n                    return this.priceCache.data;\n                }\n                // Otherwise use fallback\n                return this.getFallbackPrices();\n            }\n            if (!response.ok) {\n                throw new Error(`CoinGecko API error: ${response.status}`);\n            }\n            const data = await response.json();\n            const cryptoPrices = [\n                {\n                    symbol: \"BTC\",\n                    name: \"Bitcoin\",\n                    price_usd: data.bitcoin?.usd || 42000,\n                    price_inr: data.bitcoin?.inr || 3507000,\n                    change_24h: data.bitcoin?.usd_24h_change || 0,\n                    icon: \"₿\",\n                    lastUpdated: new Date().toISOString(),\n                    source: \"coingecko\"\n                },\n                {\n                    symbol: \"ETH\",\n                    name: \"Ethereum\",\n                    price_usd: data.ethereum?.usd || 3200,\n                    price_inr: data.ethereum?.inr || 267200,\n                    change_24h: data.ethereum?.usd_24h_change || 0,\n                    icon: \"Ξ\",\n                    lastUpdated: new Date().toISOString(),\n                    source: \"coingecko\"\n                },\n                {\n                    symbol: \"USDT\",\n                    name: \"Tether\",\n                    price_usd: data.tether?.usd || 1.0,\n                    price_inr: data.tether?.inr || 83.5,\n                    change_24h: data.tether?.usd_24h_change || 0,\n                    icon: \"₮\",\n                    lastUpdated: new Date().toISOString(),\n                    source: \"coingecko\"\n                }\n            ];\n            // Cache the result\n            this.priceCache = {\n                data: cryptoPrices,\n                timestamp: Date.now(),\n                source: \"coingecko\"\n            };\n            return cryptoPrices;\n        } catch (error) {\n            console.error(\"Error fetching alternative prices:\", error);\n            // If we have cached data, return it even if expired\n            if (this.priceCache) {\n                console.log(\"Returning expired cached data due to API error\");\n                return this.priceCache.data.map((item)=>({\n                        ...item,\n                        source: \"cached\"\n                    }));\n            }\n            // Final fallback to mock data with current timestamp\n            return this.getFallbackPrices();\n        }\n    }\n    // Get 24hr price change statistics with proper error handling\n    async get24hrStats() {\n        try {\n            const symbols = [\n                \"BTCUSDT\",\n                \"ETHUSDT\",\n                \"USDTUSDT\"\n            ];\n            const promises = symbols.map((symbol)=>fetch(`${this.baseURL}/api/v3/ticker/24hr?symbol=${symbol}`, {\n                    headers: this.getHeaders()\n                }).then((response)=>{\n                    if (response.status === 451) {\n                        throw new Error(\"API restricted\");\n                    }\n                    if (!response.ok) {\n                        throw new Error(`HTTP ${response.status}`);\n                    }\n                    return response.json();\n                }).catch((error)=>{\n                    console.log(`Failed to fetch 24hr stats for ${symbol}:`, error.message);\n                    return null;\n                }));\n            const responses = await Promise.all(promises);\n            // Filter out null responses and process valid ones\n            const stats = responses.filter((response)=>response !== null && response.symbol).map((stat)=>({\n                    symbol: stat.symbol.replace(\"USDT\", \"\"),\n                    priceChange: parseFloat(stat.priceChange || \"0\"),\n                    priceChangePercent: parseFloat(stat.priceChangePercent || \"0\"),\n                    lastPrice: parseFloat(stat.lastPrice || \"0\"),\n                    volume: parseFloat(stat.volume || \"0\")\n                }));\n            return stats;\n        } catch (error) {\n            console.error(\"Error fetching 24hr stats:\", error);\n            return [];\n        }\n    }\n    // Get account balances with fallback to mock data\n    async getWalletBalances() {\n        try {\n            const timestamp = Date.now();\n            const queryString = `timestamp=${timestamp}`;\n            const signature = await this.createSignature(queryString);\n            const response = await fetch(`${this.baseURL}/api/v3/account?${queryString}&signature=${signature}`, {\n                headers: this.getHeaders(true)\n            });\n            if (response.status === 451) {\n                console.log(\"Binance API restricted for wallet balances, using mock data\");\n                return this.getMockWalletBalances();\n            }\n            if (!response.ok) {\n                throw new Error(`Binance API error: ${response.status}`);\n            }\n            const accountInfo = await response.json();\n            // Filter and format balances\n            const relevantAssets = [\n                \"BTC\",\n                \"ETH\",\n                \"USDT\",\n                \"USDC\",\n                \"BNB\"\n            ];\n            const balances = {};\n            accountInfo.balances.forEach((balance)=>{\n                if (relevantAssets.includes(balance.asset)) {\n                    const total = parseFloat(balance.free) + parseFloat(balance.locked);\n                    if (total > 0) {\n                        balances[balance.asset] = total;\n                    }\n                }\n            });\n            return balances;\n        } catch (error) {\n            console.error(\"Error fetching wallet balances:\", error);\n            return this.getMockWalletBalances();\n        }\n    }\n    // Mock wallet balances for demo purposes\n    getMockWalletBalances() {\n        return {\n            BTC: 0.15432,\n            ETH: 2.8765,\n            USDT: 1250.50,\n            USDC: 500.00,\n            BNB: 12.345\n        };\n    }\n    // Convert fiat to crypto amount\n    async convertFiatToCrypto(fiatAmount, fiatCurrency, cryptoSymbol) {\n        try {\n            const prices = await this.getCryptoPrices();\n            const crypto1 = prices.find((p)=>p.symbol === cryptoSymbol);\n            if (!crypto1) return 0;\n            let cryptoPrice = 0;\n            if (fiatCurrency === \"USD\") {\n                cryptoPrice = crypto1.price_usd;\n            } else if (fiatCurrency === \"INR\") {\n                cryptoPrice = crypto1.price_inr;\n            } else if (fiatCurrency === \"EUR\") {\n                cryptoPrice = crypto1.price_usd * 0.85;\n            } else if (fiatCurrency === \"GBP\") {\n                cryptoPrice = crypto1.price_usd * 0.75;\n            }\n            return fiatAmount / cryptoPrice;\n        } catch (error) {\n            console.error(\"Error converting fiat to crypto:\", error);\n            return 0;\n        }\n    }\n    // Convert crypto to fiat amount\n    async convertCryptoToFiat(cryptoAmount, cryptoSymbol, fiatCurrency) {\n        try {\n            const prices = await this.getCryptoPrices();\n            const crypto1 = prices.find((p)=>p.symbol === cryptoSymbol);\n            if (!crypto1) return 0;\n            let cryptoPrice = 0;\n            if (fiatCurrency === \"USD\") {\n                cryptoPrice = crypto1.price_usd;\n            } else if (fiatCurrency === \"INR\") {\n                cryptoPrice = crypto1.price_inr;\n            } else if (fiatCurrency === \"EUR\") {\n                cryptoPrice = crypto1.price_usd * 0.85;\n            } else if (fiatCurrency === \"GBP\") {\n                cryptoPrice = crypto1.price_usd * 0.75;\n            }\n            return cryptoAmount * cryptoPrice;\n        } catch (error) {\n            console.error(\"Error converting crypto to fiat:\", error);\n            return 0;\n        }\n    }\n    // Generate crypto address (mock - in production use proper wallet generation)\n    generateCryptoAddress(symbol) {\n        const prefixes = {\n            BTC: \"1\",\n            ETH: \"0x\",\n            USDT: \"0x\",\n            USDC: \"0x\",\n            BNB: \"bnb\"\n        };\n        const prefix = prefixes[symbol] || \"0x\";\n        const randomHex = Math.random().toString(16).substring(2, 34);\n        return prefix + randomHex;\n    }\n    // Simulate on-chain transfer (in production, use proper blockchain integration)\n    async simulateTransfer(fromAddress, toAddress, amount, symbol) {\n        // Simulate network delay\n        await new Promise((resolve)=>setTimeout(resolve, 2000));\n        // Generate transaction hash\n        const txHash = \"0x\" + Math.random().toString(16).substring(2, 66);\n        console.log(`Simulated ${symbol} transfer:`);\n        console.log(`From: ${fromAddress}`);\n        console.log(`To: ${toAddress}`);\n        console.log(`Amount: ${amount} ${symbol}`);\n        console.log(`TX Hash: ${txHash}`);\n        return txHash;\n    }\n    getCryptoName(symbol) {\n        const names = {\n            BTC: \"Bitcoin\",\n            ETH: \"Ethereum\",\n            USDT: \"Tether\",\n            USDC: \"USD Coin\",\n            BNB: \"Binance Coin\"\n        };\n        return names[symbol] || symbol;\n    }\n    getCryptoIcon(symbol) {\n        const icons = {\n            BTC: \"₿\",\n            ETH: \"Ξ\",\n            USDT: \"₮\",\n            USDC: \"$\",\n            BNB: \"B\"\n        };\n        return icons[symbol] || \"₿\";\n    }\n    // Enhanced fallback prices with realistic variations\n    getFallbackPrices() {\n        // Add some realistic price variations\n        const btcBase = 42000;\n        const ethBase = 3200;\n        const usdtBase = 1.0;\n        const variation = ()=>(Math.random() - 0.5) * 0.02 // ±1% variation\n        ;\n        return [\n            {\n                symbol: \"BTC\",\n                name: \"Bitcoin\",\n                price_usd: btcBase * (1 + variation()),\n                price_inr: btcBase * 83.5 * (1 + variation()),\n                change_24h: (Math.random() - 0.5) * 10,\n                icon: \"₿\",\n                lastUpdated: new Date().toISOString(),\n                source: \"fallback\"\n            },\n            {\n                symbol: \"ETH\",\n                name: \"Ethereum\",\n                price_usd: ethBase * (1 + variation()),\n                price_inr: ethBase * 83.5 * (1 + variation()),\n                change_24h: (Math.random() - 0.5) * 8,\n                icon: \"Ξ\",\n                lastUpdated: new Date().toISOString(),\n                source: \"fallback\"\n            },\n            {\n                symbol: \"USDT\",\n                name: \"Tether\",\n                price_usd: usdtBase * (1 + variation() * 0.1),\n                price_inr: usdtBase * 83.5 * (1 + variation() * 0.1),\n                change_24h: (Math.random() - 0.5) * 0.5,\n                icon: \"₮\",\n                lastUpdated: new Date().toISOString(),\n                source: \"fallback\"\n            }\n        ];\n    }\n    // Clear cache manually if needed\n    clearCache() {\n        this.priceCache = null;\n        console.log(\"Price cache cleared\");\n    }\n    // Get cache status\n    getCacheStatus() {\n        if (!this.priceCache) {\n            return {\n                cached: false,\n                age: 0,\n                source: \"none\"\n            };\n        }\n        const age = Date.now() - this.priceCache.timestamp;\n        return {\n            cached: true,\n            age,\n            source: this.priceCache.source\n        };\n    }\n}\nconst binanceAPI = new BinanceAPI();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3pFLFlBQVksQ0FBQzRELEtBQUtDLE1BQU0sS0FBSyxHQUFFLElBQUs7Z0JBQ3BDNUQsTUFBTTtnQkFDTkUsYUFBYSxJQUFJckMsT0FBT3NDLFdBQVc7Z0JBQ25DQyxRQUFRO1lBQ1Y7WUFDQTtnQkFDRWpCLFFBQVE7Z0JBQ1J2QyxNQUFNO2dCQUNOaUQsV0FBVzBFLFdBQVksS0FBSUMsY0FBYyxHQUFFO2dCQUMzQzFFLFdBQVd5RSxXQUFXLE9BQVEsS0FBSUMsY0FBYyxHQUFFO2dCQUNsRHpFLFlBQVksQ0FBQzRELEtBQUtDLE1BQU0sS0FBSyxHQUFFLElBQUs7Z0JBQ3BDNUQsTUFBTTtnQkFDTkUsYUFBYSxJQUFJckMsT0FBT3NDLFdBQVc7Z0JBQ25DQyxRQUFRO1lBQ1Y7U0FDRDtJQUNIO0lBRUEsaUNBQWlDO0lBQ2pDcUUsYUFBbUI7UUFDakIsSUFBSSxDQUFDL0ksVUFBVSxHQUFHO1FBQ2xCc0MsUUFBUUMsR0FBRyxDQUFDO0lBQ2Q7SUFFQSxtQkFBbUI7SUFDbkJ5RyxpQkFBbUU7UUFDakUsSUFBSSxDQUFDLElBQUksQ0FBQ2hKLFVBQVUsRUFBRTtZQUNwQixPQUFPO2dCQUFFaUosUUFBUTtnQkFBT0MsS0FBSztnQkFBR3hFLFFBQVE7WUFBTztRQUNqRDtRQUVBLE1BQU13RSxNQUFNL0csS0FBS0QsR0FBRyxLQUFLLElBQUksQ0FBQ2xDLFVBQVUsQ0FBQzRDLFNBQVM7UUFDbEQsT0FBTztZQUNMcUcsUUFBUTtZQUNSQztZQUNBeEUsUUFBUSxJQUFJLENBQUMxRSxVQUFVLENBQUMwRSxNQUFNO1FBQ2hDO0lBQ0Y7QUFDRjtBQUVPLE1BQU15RSxhQUFhLElBQUlySixhQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL2xpYi9iaW5hbmNlLWFwaS50cz84YTYwIl0sInNvdXJjZXNDb250ZW50IjpbImludGVyZmFjZSBCaW5hbmNlVGlja2VyUHJpY2Uge1xuICBzeW1ib2w6IHN0cmluZ1xuICBwcmljZTogc3RyaW5nXG59XG5cbmludGVyZmFjZSBCaW5hbmNlRXhjaGFuZ2VJbmZvIHtcbiAgc3ltYm9sczoge1xuICAgIHN5bWJvbDogc3RyaW5nXG4gICAgc3RhdHVzOiBzdHJpbmdcbiAgICBiYXNlQXNzZXQ6IHN0cmluZ1xuICAgIHF1b3RlQXNzZXQ6IHN0cmluZ1xuICB9W11cbn1cblxuaW50ZXJmYWNlIEJpbmFuY2VBY2NvdW50SW5mbyB7XG4gIGJhbGFuY2VzOiB7XG4gICAgYXNzZXQ6IHN0cmluZ1xuICAgIGZyZWU6IHN0cmluZ1xuICAgIGxvY2tlZDogc3RyaW5nXG4gIH1bXVxufVxuXG5pbnRlcmZhY2UgQ2FjaGVkUHJpY2VEYXRhIHtcbiAgZGF0YTogYW55W11cbiAgdGltZXN0YW1wOiBudW1iZXJcbiAgc291cmNlOiBzdHJpbmdcbn1cblxuZXhwb3J0IGNsYXNzIEJpbmFuY2VBUEkge1xuICBwcml2YXRlIGFwaUtleTogc3RyaW5nXG4gIHByaXZhdGUgc2VjcmV0S2V5OiBzdHJpbmdcbiAgcHJpdmF0ZSBiYXNlVVJMOiBzdHJpbmdcbiAgcHJpdmF0ZSBwcmljZUNhY2hlOiBDYWNoZWRQcmljZURhdGEgfCBudWxsID0gbnVsbFxuICBwcml2YXRlIGNhY2hlVGltZW91dDogbnVtYmVyID0gNjAwMDAgLy8gMSBtaW51dGUgY2FjaGVcbiAgcHJpdmF0ZSBsYXN0UmVxdWVzdFRpbWU6IG51bWJlciA9IDBcbiAgcHJpdmF0ZSBtaW5SZXF1ZXN0SW50ZXJ2YWw6IG51bWJlciA9IDIwMDAgLy8gMiBzZWNvbmRzIGJldHdlZW4gcmVxdWVzdHNcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmFwaUtleSA9IFwiYThMRjFrYjBTZlM4cGpBbVl4eXlUYk50eVdnQVdNWVJqWGhkaVBBYjh0THFRUTFCWldNQWZVaUQ5T2NLNW9HWFwiXG4gICAgdGhpcy5zZWNyZXRLZXkgPSBcIkhWTVYwMXhIVmhGQ2hYNXJ1ZE5mdDRuQUVNaFlucm5DNVF1MkZyWFQxd0MzRWFVQkFzZ29mTFRNbXdjV251T05pXCJcbiAgICB0aGlzLmJhc2VVUkwgPSBcImh0dHBzOi8vYXBpLmJpbmFuY2UuY29tXCJcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgY3JlYXRlU2lnbmF0dXJlKHF1ZXJ5U3RyaW5nOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKVxuICAgIGNvbnN0IGtleURhdGEgPSBlbmNvZGVyLmVuY29kZSh0aGlzLnNlY3JldEtleSlcbiAgICBjb25zdCBtZXNzYWdlRGF0YSA9IGVuY29kZXIuZW5jb2RlKHF1ZXJ5U3RyaW5nKVxuICAgIFxuICAgIGNvbnN0IGNyeXB0b0tleSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFxuICAgICAgJ3JhdycsXG4gICAgICBrZXlEYXRhLFxuICAgICAgeyBuYW1lOiAnSE1BQycsIGhhc2g6ICdTSEEtMjU2JyB9LFxuICAgICAgZmFsc2UsXG4gICAgICBbJ3NpZ24nXVxuICAgIClcbiAgICBcbiAgICBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCBjcnlwdG8uc3VidGxlLnNpZ24oJ0hNQUMnLCBjcnlwdG9LZXksIG1lc3NhZ2VEYXRhKVxuICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KHNpZ25hdHVyZSkpXG4gICAgICAubWFwKGIgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSlcbiAgICAgIC5qb2luKCcnKVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRIZWFkZXJzKGluY2x1ZGVBdXRoOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBjb25zdCBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9XG4gICAgXG4gICAgaWYgKGluY2x1ZGVBdXRoKSB7XG4gICAgICBoZWFkZXJzWydYLU1CWC1BUElLRVknXSA9IHRoaXMuYXBpS2V5XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBoZWFkZXJzXG4gIH1cblxuICAvLyBSYXRlIGxpbWl0aW5nIGhlbHBlclxuICBwcml2YXRlIGFzeW5jIHdhaXRGb3JSYXRlTGltaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKVxuICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RSZXF1ZXN0ID0gbm93IC0gdGhpcy5sYXN0UmVxdWVzdFRpbWVcbiAgICBcbiAgICBpZiAodGltZVNpbmNlTGFzdFJlcXVlc3QgPCB0aGlzLm1pblJlcXVlc3RJbnRlcnZhbCkge1xuICAgICAgY29uc3Qgd2FpdFRpbWUgPSB0aGlzLm1pblJlcXVlc3RJbnRlcnZhbCAtIHRpbWVTaW5jZUxhc3RSZXF1ZXN0XG4gICAgICBjb25zb2xlLmxvZyhgUmF0ZSBsaW1pdGluZzogd2FpdGluZyAke3dhaXRUaW1lfW1zYClcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCB3YWl0VGltZSkpXG4gICAgfVxuICAgIFxuICAgIHRoaXMubGFzdFJlcXVlc3RUaW1lID0gRGF0ZS5ub3coKVxuICB9XG5cbiAgLy8gQ2hlY2sgaWYgY2FjaGVkIGRhdGEgaXMgc3RpbGwgdmFsaWRcbiAgcHJpdmF0ZSBpc0NhY2hlVmFsaWQoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLnByaWNlQ2FjaGUpIHJldHVybiBmYWxzZVxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KClcbiAgICByZXR1cm4gKG5vdyAtIHRoaXMucHJpY2VDYWNoZS50aW1lc3RhbXApIDwgdGhpcy5jYWNoZVRpbWVvdXRcbiAgfVxuXG4gIC8vIEdldCBsaXZlIGNyeXB0byBwcmljZXMgd2l0aCBjYWNoaW5nIGFuZCByYXRlIGxpbWl0aW5nXG4gIGFzeW5jIGdldENyeXB0b1ByaWNlcygpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgLy8gUmV0dXJuIGNhY2hlZCBkYXRhIGlmIHN0aWxsIHZhbGlkXG4gICAgaWYgKHRoaXMuaXNDYWNoZVZhbGlkKCkpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdSZXR1cm5pbmcgY2FjaGVkIHByaWNlIGRhdGEnKVxuICAgICAgcmV0dXJuIHRoaXMucHJpY2VDYWNoZSEuZGF0YVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBGaXJzdCB0cnkgQmluYW5jZVxuICAgICAgY29uc3Qgc3ltYm9scyA9IFsnQlRDVVNEVCcsICdFVEhVU0RUJywgJ1VTRFRVU0RUJ11cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5iYXNlVVJMfS9hcGkvdjMvdGlja2VyL3ByaWNlYCwge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLmdldEhlYWRlcnMoKVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDUxKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdCaW5hbmNlIEFQSSByZXN0cmljdGVkIGluIHRoaXMgcmVnaW9uLCB1c2luZyBhbHRlcm5hdGl2ZSBzb3VyY2UnKVxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRBbHRlcm5hdGl2ZVByaWNlcygpXG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCaW5hbmNlIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgYWxsUHJpY2VzOiBCaW5hbmNlVGlja2VyUHJpY2VbXSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgICAgXG4gICAgICAvLyBGaWx0ZXIgZm9yIG91ciBzdXBwb3J0ZWQgY3J5cHRvcyBhbmQgY29udmVydCB0byBvdXIgZm9ybWF0XG4gICAgICBjb25zdCBjcnlwdG9QcmljZXMgPSBzeW1ib2xzLm1hcChzeW1ib2wgPT4ge1xuICAgICAgICBjb25zdCBwcmljZSA9IGFsbFByaWNlcy5maW5kKHAgPT4gcC5zeW1ib2wgPT09IHN5bWJvbClcbiAgICAgICAgY29uc3QgYmFzZUFzc2V0ID0gc3ltYm9sLnJlcGxhY2UoJ1VTRFQnLCAnJylcbiAgICAgICAgXG4gICAgICAgIGlmICghcHJpY2UpIHJldHVybiBudWxsXG4gICAgICAgIFxuICAgICAgICBjb25zdCB1c2RQcmljZSA9IHBhcnNlRmxvYXQocHJpY2UucHJpY2UpXG4gICAgICAgIGNvbnN0IGluclByaWNlID0gdXNkUHJpY2UgKiA4My41IC8vIFVTRCB0byBJTlIgY29udmVyc2lvblxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzeW1ib2w6IGJhc2VBc3NldCxcbiAgICAgICAgICBuYW1lOiB0aGlzLmdldENyeXB0b05hbWUoYmFzZUFzc2V0KSxcbiAgICAgICAgICBwcmljZV91c2Q6IHVzZFByaWNlLFxuICAgICAgICAgIHByaWNlX2lucjogaW5yUHJpY2UsXG4gICAgICAgICAgY2hhbmdlXzI0aDogMCwgLy8gV2UnbGwgZ2V0IHRoaXMgZnJvbSAyNGhyIHRpY2tlclxuICAgICAgICAgIGljb246IHRoaXMuZ2V0Q3J5cHRvSWNvbihiYXNlQXNzZXQpLFxuICAgICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgc291cmNlOiAnYmluYW5jZSdcbiAgICAgICAgfVxuICAgICAgfSkuZmlsdGVyKEJvb2xlYW4pXG4gICAgICBcbiAgICAgIC8vIENhY2hlIHRoZSByZXN1bHRcbiAgICAgIHRoaXMucHJpY2VDYWNoZSA9IHtcbiAgICAgICAgZGF0YTogY3J5cHRvUHJpY2VzLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHNvdXJjZTogJ2JpbmFuY2UnXG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBjcnlwdG9QcmljZXNcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgQmluYW5jZSBwcmljZXM6JywgZXJyb3IpXG4gICAgICAvLyBUcnkgYWx0ZXJuYXRpdmUgQVBJXG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRBbHRlcm5hdGl2ZVByaWNlcygpXG4gICAgfVxuICB9XG5cbiAgLy8gQWx0ZXJuYXRpdmUgcHJpY2Ugc291cmNlIHdpdGggcmF0ZSBsaW1pdGluZyBhbmQgYmV0dGVyIGVycm9yIGhhbmRsaW5nXG4gIHByaXZhdGUgYXN5bmMgZ2V0QWx0ZXJuYXRpdmVQcmljZXMoKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBBcHBseSByYXRlIGxpbWl0aW5nXG4gICAgICBhd2FpdCB0aGlzLndhaXRGb3JSYXRlTGltaXQoKVxuICAgICAgXG4gICAgICBjb25zdCBjb2luSWRzID0gJ2JpdGNvaW4sZXRoZXJldW0sdGV0aGVyJ1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgYGh0dHBzOi8vYXBpLmNvaW5nZWNrby5jb20vYXBpL3YzL3NpbXBsZS9wcmljZT9pZHM9JHtjb2luSWRzfSZ2c19jdXJyZW5jaWVzPXVzZCxpbnImaW5jbHVkZV8yNGhyX2NoYW5nZT10cnVlYCxcbiAgICAgICAge1xuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnVXNlci1BZ2VudCc6ICdDcnlwdG9QYXltZW50R2F0ZXdheS8xLjAnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQyOSkge1xuICAgICAgICBjb25zb2xlLmxvZygnQ29pbkdlY2tvIEFQSSByYXRlIGxpbWl0ZWQsIHVzaW5nIGNhY2hlZCBvciBmYWxsYmFjayBkYXRhJylcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBjYWNoZWQgZGF0YSwgcmV0dXJuIGl0IGV2ZW4gaWYgZXhwaXJlZFxuICAgICAgICBpZiAodGhpcy5wcmljZUNhY2hlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1JldHVybmluZyBleHBpcmVkIGNhY2hlZCBkYXRhIGR1ZSB0byByYXRlIGxpbWl0JylcbiAgICAgICAgICByZXR1cm4gdGhpcy5wcmljZUNhY2hlLmRhdGFcbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UgdXNlIGZhbGxiYWNrXG4gICAgICAgIHJldHVybiB0aGlzLmdldEZhbGxiYWNrUHJpY2VzKClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvaW5HZWNrbyBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWApXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgIFxuICAgICAgY29uc3QgY3J5cHRvUHJpY2VzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgc3ltYm9sOiAnQlRDJyxcbiAgICAgICAgICBuYW1lOiAnQml0Y29pbicsXG4gICAgICAgICAgcHJpY2VfdXNkOiBkYXRhLmJpdGNvaW4/LnVzZCB8fCA0MjAwMCxcbiAgICAgICAgICBwcmljZV9pbnI6IGRhdGEuYml0Y29pbj8uaW5yIHx8IDM1MDcwMDAsXG4gICAgICAgICAgY2hhbmdlXzI0aDogZGF0YS5iaXRjb2luPy51c2RfMjRoX2NoYW5nZSB8fCAwLFxuICAgICAgICAgIGljb246ICfigr8nLFxuICAgICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgc291cmNlOiAnY29pbmdlY2tvJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgc3ltYm9sOiAnRVRIJyxcbiAgICAgICAgICBuYW1lOiAnRXRoZXJldW0nLFxuICAgICAgICAgIHByaWNlX3VzZDogZGF0YS5ldGhlcmV1bT8udXNkIHx8IDMyMDAsXG4gICAgICAgICAgcHJpY2VfaW5yOiBkYXRhLmV0aGVyZXVtPy5pbnIgfHwgMjY3MjAwLFxuICAgICAgICAgIGNoYW5nZV8yNGg6IGRhdGEuZXRoZXJldW0/LnVzZF8yNGhfY2hhbmdlIHx8IDAsXG4gICAgICAgICAgaWNvbjogJ86eJyxcbiAgICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHNvdXJjZTogJ2NvaW5nZWNrbydcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHN5bWJvbDogJ1VTRFQnLFxuICAgICAgICAgIG5hbWU6ICdUZXRoZXInLFxuICAgICAgICAgIHByaWNlX3VzZDogZGF0YS50ZXRoZXI/LnVzZCB8fCAxLjAsXG4gICAgICAgICAgcHJpY2VfaW5yOiBkYXRhLnRldGhlcj8uaW5yIHx8IDgzLjUsXG4gICAgICAgICAgY2hhbmdlXzI0aDogZGF0YS50ZXRoZXI/LnVzZF8yNGhfY2hhbmdlIHx8IDAsXG4gICAgICAgICAgaWNvbjogJ+KCricsXG4gICAgICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBzb3VyY2U6ICdjb2luZ2Vja28nXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICAgIFxuICAgICAgLy8gQ2FjaGUgdGhlIHJlc3VsdFxuICAgICAgdGhpcy5wcmljZUNhY2hlID0ge1xuICAgICAgICBkYXRhOiBjcnlwdG9QcmljZXMsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgc291cmNlOiAnY29pbmdlY2tvJ1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gY3J5cHRvUHJpY2VzXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFsdGVybmF0aXZlIHByaWNlczonLCBlcnJvcilcbiAgICAgIFxuICAgICAgLy8gSWYgd2UgaGF2ZSBjYWNoZWQgZGF0YSwgcmV0dXJuIGl0IGV2ZW4gaWYgZXhwaXJlZFxuICAgICAgaWYgKHRoaXMucHJpY2VDYWNoZSkge1xuICAgICAgICBjb25zb2xlLmxvZygnUmV0dXJuaW5nIGV4cGlyZWQgY2FjaGVkIGRhdGEgZHVlIHRvIEFQSSBlcnJvcicpXG4gICAgICAgIHJldHVybiB0aGlzLnByaWNlQ2FjaGUuZGF0YS5tYXAoaXRlbSA9PiAoe1xuICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgc291cmNlOiAnY2FjaGVkJ1xuICAgICAgICB9KSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmluYWwgZmFsbGJhY2sgdG8gbW9jayBkYXRhIHdpdGggY3VycmVudCB0aW1lc3RhbXBcbiAgICAgIHJldHVybiB0aGlzLmdldEZhbGxiYWNrUHJpY2VzKClcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgMjRociBwcmljZSBjaGFuZ2Ugc3RhdGlzdGljcyB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZ1xuICBhc3luYyBnZXQyNGhyU3RhdHMoKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzeW1ib2xzID0gWydCVENVU0RUJywgJ0VUSFVTRFQnLCAnVVNEVFVTRFQnXVxuICAgICAgY29uc3QgcHJvbWlzZXMgPSBzeW1ib2xzLm1hcChzeW1ib2wgPT4gXG4gICAgICAgIGZldGNoKGAke3RoaXMuYmFzZVVSTH0vYXBpL3YzL3RpY2tlci8yNGhyP3N5bWJvbD0ke3N5bWJvbH1gLCB7XG4gICAgICAgICAgaGVhZGVyczogdGhpcy5nZXRIZWFkZXJzKClcbiAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDUxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FQSSByZXN0cmljdGVkJylcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfWApXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKClcbiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBGYWlsZWQgdG8gZmV0Y2ggMjRociBzdGF0cyBmb3IgJHtzeW1ib2x9OmAsIGVycm9yLm1lc3NhZ2UpXG4gICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgICBcbiAgICAgIC8vIEZpbHRlciBvdXQgbnVsbCByZXNwb25zZXMgYW5kIHByb2Nlc3MgdmFsaWQgb25lc1xuICAgICAgY29uc3Qgc3RhdHMgPSByZXNwb25zZXNcbiAgICAgICAgLmZpbHRlcihyZXNwb25zZSA9PiByZXNwb25zZSAhPT0gbnVsbCAmJiByZXNwb25zZS5zeW1ib2wpXG4gICAgICAgIC5tYXAoc3RhdCA9PiAoe1xuICAgICAgICAgIHN5bWJvbDogc3RhdC5zeW1ib2wucmVwbGFjZSgnVVNEVCcsICcnKSxcbiAgICAgICAgICBwcmljZUNoYW5nZTogcGFyc2VGbG9hdChzdGF0LnByaWNlQ2hhbmdlIHx8ICcwJyksXG4gICAgICAgICAgcHJpY2VDaGFuZ2VQZXJjZW50OiBwYXJzZUZsb2F0KHN0YXQucHJpY2VDaGFuZ2VQZXJjZW50IHx8ICcwJyksXG4gICAgICAgICAgbGFzdFByaWNlOiBwYXJzZUZsb2F0KHN0YXQubGFzdFByaWNlIHx8ICcwJyksXG4gICAgICAgICAgdm9sdW1lOiBwYXJzZUZsb2F0KHN0YXQudm9sdW1lIHx8ICcwJylcbiAgICAgICAgfSkpXG4gICAgICBcbiAgICAgIHJldHVybiBzdGF0c1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyAyNGhyIHN0YXRzOicsIGVycm9yKVxuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IGFjY291bnQgYmFsYW5jZXMgd2l0aCBmYWxsYmFjayB0byBtb2NrIGRhdGFcbiAgYXN5bmMgZ2V0V2FsbGV0QmFsYW5jZXMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKVxuICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBgdGltZXN0YW1wPSR7dGltZXN0YW1wfWBcbiAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IGF3YWl0IHRoaXMuY3JlYXRlU2lnbmF0dXJlKHF1ZXJ5U3RyaW5nKVxuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHt0aGlzLmJhc2VVUkx9L2FwaS92My9hY2NvdW50PyR7cXVlcnlTdHJpbmd9JnNpZ25hdHVyZT0ke3NpZ25hdHVyZX1gLFxuICAgICAgICB7XG4gICAgICAgICAgaGVhZGVyczogdGhpcy5nZXRIZWFkZXJzKHRydWUpXG4gICAgICAgIH1cbiAgICAgIClcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDUxKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdCaW5hbmNlIEFQSSByZXN0cmljdGVkIGZvciB3YWxsZXQgYmFsYW5jZXMsIHVzaW5nIG1vY2sgZGF0YScpXG4gICAgICAgIHJldHVybiB0aGlzLmdldE1vY2tXYWxsZXRCYWxhbmNlcygpXG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCaW5hbmNlIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgYWNjb3VudEluZm86IEJpbmFuY2VBY2NvdW50SW5mbyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgICAgXG4gICAgICAvLyBGaWx0ZXIgYW5kIGZvcm1hdCBiYWxhbmNlc1xuICAgICAgY29uc3QgcmVsZXZhbnRBc3NldHMgPSBbJ0JUQycsICdFVEgnLCAnVVNEVCcsICdVU0RDJywgJ0JOQiddXG4gICAgICBjb25zdCBiYWxhbmNlczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9XG4gICAgICBcbiAgICAgIGFjY291bnRJbmZvLmJhbGFuY2VzLmZvckVhY2goYmFsYW5jZSA9PiB7XG4gICAgICAgIGlmIChyZWxldmFudEFzc2V0cy5pbmNsdWRlcyhiYWxhbmNlLmFzc2V0KSkge1xuICAgICAgICAgIGNvbnN0IHRvdGFsID0gcGFyc2VGbG9hdChiYWxhbmNlLmZyZWUpICsgcGFyc2VGbG9hdChiYWxhbmNlLmxvY2tlZClcbiAgICAgICAgICBpZiAodG90YWwgPiAwKSB7XG4gICAgICAgICAgICBiYWxhbmNlc1tiYWxhbmNlLmFzc2V0XSA9IHRvdGFsXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgXG4gICAgICByZXR1cm4gYmFsYW5jZXNcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd2FsbGV0IGJhbGFuY2VzOicsIGVycm9yKVxuICAgICAgcmV0dXJuIHRoaXMuZ2V0TW9ja1dhbGxldEJhbGFuY2VzKClcbiAgICB9XG4gIH1cblxuICAvLyBNb2NrIHdhbGxldCBiYWxhbmNlcyBmb3IgZGVtbyBwdXJwb3Nlc1xuICBwcml2YXRlIGdldE1vY2tXYWxsZXRCYWxhbmNlcygpOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+IHtcbiAgICByZXR1cm4ge1xuICAgICAgQlRDOiAwLjE1NDMyLFxuICAgICAgRVRIOiAyLjg3NjUsXG4gICAgICBVU0RUOiAxMjUwLjUwLFxuICAgICAgVVNEQzogNTAwLjAwLFxuICAgICAgQk5COiAxMi4zNDVcbiAgICB9XG4gIH1cblxuICAvLyBDb252ZXJ0IGZpYXQgdG8gY3J5cHRvIGFtb3VudFxuICBhc3luYyBjb252ZXJ0RmlhdFRvQ3J5cHRvKGZpYXRBbW91bnQ6IG51bWJlciwgZmlhdEN1cnJlbmN5OiBzdHJpbmcsIGNyeXB0b1N5bWJvbDogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJpY2VzID0gYXdhaXQgdGhpcy5nZXRDcnlwdG9QcmljZXMoKVxuICAgICAgY29uc3QgY3J5cHRvID0gcHJpY2VzLmZpbmQocCA9PiBwLnN5bWJvbCA9PT0gY3J5cHRvU3ltYm9sKVxuICAgICAgXG4gICAgICBpZiAoIWNyeXB0bykgcmV0dXJuIDBcbiAgICAgIFxuICAgICAgbGV0IGNyeXB0b1ByaWNlID0gMFxuICAgICAgaWYgKGZpYXRDdXJyZW5jeSA9PT0gJ1VTRCcpIHtcbiAgICAgICAgY3J5cHRvUHJpY2UgPSBjcnlwdG8ucHJpY2VfdXNkXG4gICAgICB9IGVsc2UgaWYgKGZpYXRDdXJyZW5jeSA9PT0gJ0lOUicpIHtcbiAgICAgICAgY3J5cHRvUHJpY2UgPSBjcnlwdG8ucHJpY2VfaW5yXG4gICAgICB9IGVsc2UgaWYgKGZpYXRDdXJyZW5jeSA9PT0gJ0VVUicpIHtcbiAgICAgICAgY3J5cHRvUHJpY2UgPSBjcnlwdG8ucHJpY2VfdXNkICogMC44NVxuICAgICAgfSBlbHNlIGlmIChmaWF0Q3VycmVuY3kgPT09ICdHQlAnKSB7XG4gICAgICAgIGNyeXB0b1ByaWNlID0gY3J5cHRvLnByaWNlX3VzZCAqIDAuNzVcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGZpYXRBbW91bnQgLyBjcnlwdG9QcmljZVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb252ZXJ0aW5nIGZpYXQgdG8gY3J5cHRvOicsIGVycm9yKVxuICAgICAgcmV0dXJuIDBcbiAgICB9XG4gIH1cblxuICAvLyBDb252ZXJ0IGNyeXB0byB0byBmaWF0IGFtb3VudFxuICBhc3luYyBjb252ZXJ0Q3J5cHRvVG9GaWF0KGNyeXB0b0Ftb3VudDogbnVtYmVyLCBjcnlwdG9TeW1ib2w6IHN0cmluZywgZmlhdEN1cnJlbmN5OiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcmljZXMgPSBhd2FpdCB0aGlzLmdldENyeXB0b1ByaWNlcygpXG4gICAgICBjb25zdCBjcnlwdG8gPSBwcmljZXMuZmluZChwID0+IHAuc3ltYm9sID09PSBjcnlwdG9TeW1ib2wpXG4gICAgICBcbiAgICAgIGlmICghY3J5cHRvKSByZXR1cm4gMFxuICAgICAgXG4gICAgICBsZXQgY3J5cHRvUHJpY2UgPSAwXG4gICAgICBpZiAoZmlhdEN1cnJlbmN5ID09PSAnVVNEJykge1xuICAgICAgICBjcnlwdG9QcmljZSA9IGNyeXB0by5wcmljZV91c2RcbiAgICAgIH0gZWxzZSBpZiAoZmlhdEN1cnJlbmN5ID09PSAnSU5SJykge1xuICAgICAgICBjcnlwdG9QcmljZSA9IGNyeXB0by5wcmljZV9pbnJcbiAgICAgIH0gZWxzZSBpZiAoZmlhdEN1cnJlbmN5ID09PSAnRVVSJykge1xuICAgICAgICBjcnlwdG9QcmljZSA9IGNyeXB0by5wcmljZV91c2QgKiAwLjg1XG4gICAgICB9IGVsc2UgaWYgKGZpYXRDdXJyZW5jeSA9PT0gJ0dCUCcpIHtcbiAgICAgICAgY3J5cHRvUHJpY2UgPSBjcnlwdG8ucHJpY2VfdXNkICogMC43NVxuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gY3J5cHRvQW1vdW50ICogY3J5cHRvUHJpY2VcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29udmVydGluZyBjcnlwdG8gdG8gZmlhdDonLCBlcnJvcilcbiAgICAgIHJldHVybiAwXG4gICAgfVxuICB9XG5cbiAgLy8gR2VuZXJhdGUgY3J5cHRvIGFkZHJlc3MgKG1vY2sgLSBpbiBwcm9kdWN0aW9uIHVzZSBwcm9wZXIgd2FsbGV0IGdlbmVyYXRpb24pXG4gIGdlbmVyYXRlQ3J5cHRvQWRkcmVzcyhzeW1ib2w6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgcHJlZml4ZXMgPSB7XG4gICAgICBCVEM6ICcxJyxcbiAgICAgIEVUSDogJzB4JyxcbiAgICAgIFVTRFQ6ICcweCcsXG4gICAgICBVU0RDOiAnMHgnLFxuICAgICAgQk5COiAnYm5iJ1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBwcmVmaXggPSBwcmVmaXhlc1tzeW1ib2wgYXMga2V5b2YgdHlwZW9mIHByZWZpeGVzXSB8fCAnMHgnXG4gICAgY29uc3QgcmFuZG9tSGV4ID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDIsIDM0KVxuICAgIHJldHVybiBwcmVmaXggKyByYW5kb21IZXhcbiAgfVxuXG4gIC8vIFNpbXVsYXRlIG9uLWNoYWluIHRyYW5zZmVyIChpbiBwcm9kdWN0aW9uLCB1c2UgcHJvcGVyIGJsb2NrY2hhaW4gaW50ZWdyYXRpb24pXG4gIGFzeW5jIHNpbXVsYXRlVHJhbnNmZXIoZnJvbUFkZHJlc3M6IHN0cmluZywgdG9BZGRyZXNzOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyLCBzeW1ib2w6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgLy8gU2ltdWxhdGUgbmV0d29yayBkZWxheVxuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDAwKSlcbiAgICBcbiAgICAvLyBHZW5lcmF0ZSB0cmFuc2FjdGlvbiBoYXNoXG4gICAgY29uc3QgdHhIYXNoID0gJzB4JyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygyLCA2NilcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgU2ltdWxhdGVkICR7c3ltYm9sfSB0cmFuc2ZlcjpgKVxuICAgIGNvbnNvbGUubG9nKGBGcm9tOiAke2Zyb21BZGRyZXNzfWApXG4gICAgY29uc29sZS5sb2coYFRvOiAke3RvQWRkcmVzc31gKVxuICAgIGNvbnNvbGUubG9nKGBBbW91bnQ6ICR7YW1vdW50fSAke3N5bWJvbH1gKVxuICAgIGNvbnNvbGUubG9nKGBUWCBIYXNoOiAke3R4SGFzaH1gKVxuICAgIFxuICAgIHJldHVybiB0eEhhc2hcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q3J5cHRvTmFtZShzeW1ib2w6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgbmFtZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICBCVEM6ICdCaXRjb2luJyxcbiAgICAgIEVUSDogJ0V0aGVyZXVtJyxcbiAgICAgIFVTRFQ6ICdUZXRoZXInLFxuICAgICAgVVNEQzogJ1VTRCBDb2luJyxcbiAgICAgIEJOQjogJ0JpbmFuY2UgQ29pbidcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzW3N5bWJvbF0gfHwgc3ltYm9sXG4gIH1cblxuICBwcml2YXRlIGdldENyeXB0b0ljb24oc3ltYm9sOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGljb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgQlRDOiAn4oK/JyxcbiAgICAgIEVUSDogJ86eJyxcbiAgICAgIFVTRFQ6ICfigq4nLFxuICAgICAgVVNEQzogJyQnLFxuICAgICAgQk5COiAnQidcbiAgICB9XG4gICAgcmV0dXJuIGljb25zW3N5bWJvbF0gfHwgJ+KCvydcbiAgfVxuXG4gIC8vIEVuaGFuY2VkIGZhbGxiYWNrIHByaWNlcyB3aXRoIHJlYWxpc3RpYyB2YXJpYXRpb25zXG4gIHByaXZhdGUgZ2V0RmFsbGJhY2tQcmljZXMoKSB7XG4gICAgLy8gQWRkIHNvbWUgcmVhbGlzdGljIHByaWNlIHZhcmlhdGlvbnNcbiAgICBjb25zdCBidGNCYXNlID0gNDIwMDBcbiAgICBjb25zdCBldGhCYXNlID0gMzIwMFxuICAgIGNvbnN0IHVzZHRCYXNlID0gMS4wXG4gICAgXG4gICAgY29uc3QgdmFyaWF0aW9uID0gKCkgPT4gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4wMiAvLyDCsTElIHZhcmlhdGlvblxuICAgIFxuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIHN5bWJvbDogJ0JUQycsXG4gICAgICAgIG5hbWU6ICdCaXRjb2luJyxcbiAgICAgICAgcHJpY2VfdXNkOiBidGNCYXNlICogKDEgKyB2YXJpYXRpb24oKSksXG4gICAgICAgIHByaWNlX2lucjogYnRjQmFzZSAqIDgzLjUgKiAoMSArIHZhcmlhdGlvbigpKSxcbiAgICAgICAgY2hhbmdlXzI0aDogKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMTAsIC8vIMKxNSUgY2hhbmdlXG4gICAgICAgIGljb246ICfigr8nLFxuICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBzb3VyY2U6ICdmYWxsYmFjaydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHN5bWJvbDogJ0VUSCcsXG4gICAgICAgIG5hbWU6ICdFdGhlcmV1bScsXG4gICAgICAgIHByaWNlX3VzZDogZXRoQmFzZSAqICgxICsgdmFyaWF0aW9uKCkpLFxuICAgICAgICBwcmljZV9pbnI6IGV0aEJhc2UgKiA4My41ICogKDEgKyB2YXJpYXRpb24oKSksXG4gICAgICAgIGNoYW5nZV8yNGg6IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDgsIC8vIMKxNCUgY2hhbmdlXG4gICAgICAgIGljb246ICfOnicsXG4gICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHNvdXJjZTogJ2ZhbGxiYWNrJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgc3ltYm9sOiAnVVNEVCcsXG4gICAgICAgIG5hbWU6ICdUZXRoZXInLFxuICAgICAgICBwcmljZV91c2Q6IHVzZHRCYXNlICogKDEgKyB2YXJpYXRpb24oKSAqIDAuMSksIC8vIFNtYWxsZXIgdmFyaWF0aW9uIGZvciBzdGFibGVjb2luXG4gICAgICAgIHByaWNlX2lucjogdXNkdEJhc2UgKiA4My41ICogKDEgKyB2YXJpYXRpb24oKSAqIDAuMSksXG4gICAgICAgIGNoYW5nZV8yNGg6IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuNSwgLy8gwrEwLjI1JSBjaGFuZ2VcbiAgICAgICAgaWNvbjogJ+KCricsXG4gICAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHNvdXJjZTogJ2ZhbGxiYWNrJ1xuICAgICAgfVxuICAgIF1cbiAgfVxuXG4gIC8vIENsZWFyIGNhY2hlIG1hbnVhbGx5IGlmIG5lZWRlZFxuICBjbGVhckNhY2hlKCk6IHZvaWQge1xuICAgIHRoaXMucHJpY2VDYWNoZSA9IG51bGxcbiAgICBjb25zb2xlLmxvZygnUHJpY2UgY2FjaGUgY2xlYXJlZCcpXG4gIH1cblxuICAvLyBHZXQgY2FjaGUgc3RhdHVzXG4gIGdldENhY2hlU3RhdHVzKCk6IHsgY2FjaGVkOiBib29sZWFuLCBhZ2U6IG51bWJlciwgc291cmNlOiBzdHJpbmcgfSB7XG4gICAgaWYgKCF0aGlzLnByaWNlQ2FjaGUpIHtcbiAgICAgIHJldHVybiB7IGNhY2hlZDogZmFsc2UsIGFnZTogMCwgc291cmNlOiAnbm9uZScgfVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBhZ2UgPSBEYXRlLm5vdygpIC0gdGhpcy5wcmljZUNhY2hlLnRpbWVzdGFtcFxuICAgIHJldHVybiB7XG4gICAgICBjYWNoZWQ6IHRydWUsXG4gICAgICBhZ2UsXG4gICAgICBzb3VyY2U6IHRoaXMucHJpY2VDYWNoZS5zb3VyY2VcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGJpbmFuY2VBUEkgPSBuZXcgQmluYW5jZUFQSSgpXG4iXSwibmFtZXMiOlsiQmluYW5jZUFQSSIsImNvbnN0cnVjdG9yIiwicHJpY2VDYWNoZSIsImNhY2hlVGltZW91dCIsImxhc3RSZXF1ZXN0VGltZSIsIm1pblJlcXVlc3RJbnRlcnZhbCIsImFwaUtleSIsInNlY3JldEtleSIsImJhc2VVUkwiLCJjcmVhdGVTaWduYXR1cmUiLCJxdWVyeVN0cmluZyIsImVuY29kZXIiLCJUZXh0RW5jb2RlciIsImtleURhdGEiLCJlbmNvZGUiLCJtZXNzYWdlRGF0YSIsImNyeXB0b0tleSIsImNyeXB0byIsInN1YnRsZSIsImltcG9ydEtleSIsIm5hbWUiLCJoYXNoIiwic2lnbmF0dXJlIiwic2lnbiIsIkFycmF5IiwiZnJvbSIsIlVpbnQ4QXJyYXkiLCJtYXAiLCJiIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImpvaW4iLCJnZXRIZWFkZXJzIiwiaW5jbHVkZUF1dGgiLCJoZWFkZXJzIiwid2FpdEZvclJhdGVMaW1pdCIsIm5vdyIsIkRhdGUiLCJ0aW1lU2luY2VMYXN0UmVxdWVzdCIsIndhaXRUaW1lIiwiY29uc29sZSIsImxvZyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImlzQ2FjaGVWYWxpZCIsInRpbWVzdGFtcCIsImdldENyeXB0b1ByaWNlcyIsImRhdGEiLCJzeW1ib2xzIiwicmVzcG9uc2UiLCJmZXRjaCIsInN0YXR1cyIsImdldEFsdGVybmF0aXZlUHJpY2VzIiwib2siLCJFcnJvciIsImFsbFByaWNlcyIsImpzb24iLCJjcnlwdG9QcmljZXMiLCJzeW1ib2wiLCJwcmljZSIsImZpbmQiLCJwIiwiYmFzZUFzc2V0IiwicmVwbGFjZSIsInVzZFByaWNlIiwicGFyc2VGbG9hdCIsImluclByaWNlIiwiZ2V0Q3J5cHRvTmFtZSIsInByaWNlX3VzZCIsInByaWNlX2luciIsImNoYW5nZV8yNGgiLCJpY29uIiwiZ2V0Q3J5cHRvSWNvbiIsImxhc3RVcGRhdGVkIiwidG9JU09TdHJpbmciLCJzb3VyY2UiLCJmaWx0ZXIiLCJCb29sZWFuIiwiZXJyb3IiLCJjb2luSWRzIiwiZ2V0RmFsbGJhY2tQcmljZXMiLCJiaXRjb2luIiwidXNkIiwiaW5yIiwidXNkXzI0aF9jaGFuZ2UiLCJldGhlcmV1bSIsInRldGhlciIsIml0ZW0iLCJnZXQyNGhyU3RhdHMiLCJwcm9taXNlcyIsInRoZW4iLCJjYXRjaCIsIm1lc3NhZ2UiLCJyZXNwb25zZXMiLCJhbGwiLCJzdGF0cyIsInN0YXQiLCJwcmljZUNoYW5nZSIsInByaWNlQ2hhbmdlUGVyY2VudCIsImxhc3RQcmljZSIsInZvbHVtZSIsImdldFdhbGxldEJhbGFuY2VzIiwiZ2V0TW9ja1dhbGxldEJhbGFuY2VzIiwiYWNjb3VudEluZm8iLCJyZWxldmFudEFzc2V0cyIsImJhbGFuY2VzIiwiZm9yRWFjaCIsImJhbGFuY2UiLCJpbmNsdWRlcyIsImFzc2V0IiwidG90YWwiLCJmcmVlIiwibG9ja2VkIiwiQlRDIiwiRVRIIiwiVVNEVCIsIlVTREMiLCJCTkIiLCJjb252ZXJ0RmlhdFRvQ3J5cHRvIiwiZmlhdEFtb3VudCIsImZpYXRDdXJyZW5jeSIsImNyeXB0b1N5bWJvbCIsInByaWNlcyIsImNyeXB0b1ByaWNlIiwiY29udmVydENyeXB0b1RvRmlhdCIsImNyeXB0b0Ftb3VudCIsImdlbmVyYXRlQ3J5cHRvQWRkcmVzcyIsInByZWZpeGVzIiwicHJlZml4IiwicmFuZG9tSGV4IiwiTWF0aCIsInJhbmRvbSIsInN1YnN0cmluZyIsInNpbXVsYXRlVHJhbnNmZXIiLCJmcm9tQWRkcmVzcyIsInRvQWRkcmVzcyIsImFtb3VudCIsInR4SGFzaCIsIm5hbWVzIiwiaWNvbnMiLCJidGNCYXNlIiwiZXRoQmFzZSIsInVzZHRCYXNlIiwidmFyaWF0aW9uIiwiY2xlYXJDYWNoZSIsImdldENhY2hlU3RhdHVzIiwiY2FjaGVkIiwiYWdlIiwiYmluYW5jZUFQSSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/binance-api.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.2.16_react-dom@18.3.1_react@18.3.1__react@18.3.1"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@14.2.16_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcrypto%2Flive-prices%2Froute&page=%2Fapi%2Fcrypto%2Flive-prices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcrypto%2Flive-prices%2Froute.ts&appDir=C%3A%5CUsers%5CAdmin%5CDesktop%5CZerokost%5Ccrypto-payment-gateway%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAdmin%5CDesktop%5CZerokost%5Ccrypto-payment-gateway&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();